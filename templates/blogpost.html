{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="{% if post %}{{ post.excerpt|default:post.title }}{% endif %}">
    <meta name="author" content="{% if post %}{{ post.author|default:'AJIF Team' }}{% endif %}">
    <title>{% if post %}{{ post.title }} - {% endif %}AJIF Blog</title>

    <link rel="stylesheet" href="{% static 'css/output.css' %}">
    <link rel="stylesheet" href="{% static 'assets/fonts/fonts.css' %}">

    <!-- Syntax Highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>

    <style>
        /* ==================== CUSTOM FONTS ==================== */
        .font-archivo { font-family: 'Archivo Black', sans-serif; }
        .font-quattro { font-family: 'Quattrocento', serif; }

        /* ==================== GLOBAL STYLES ==================== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #f8fafc 0%, #ffffff 50%, #f1f5f9 100%);
            color: #1a1a1a;
            line-height: 1.6;
        }

        /* ==================== NAVBAR ANIMATIONS ==================== */
        /* Underline animation for nav links */
        .nav-link::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: #14b8a6;
            transition: width 0.3s ease;
        }
        .nav-link:hover::after {
            width: 100%;
        }

        /* Mobile menu transitions */
        #mobile-menu {
            max-height: 0;
            transition: max-height 0.4s ease-out;
            overflow: hidden;
            background: #1a1a1a;
            border-top: 1px solid rgba(255, 255, 255, 0.05);
        }
        #mobile-menu.active {
            max-height: 600px;
            transition: max-height 0.6s ease-in;
            padding: 10px 0;
        }

        /* Ensure the menu is hidden by default on larger screens */
        @media (min-width: 1024px) {
            #mobile-menu {
                display: none !important;
            }
        }

        /* Left border animation for mobile nav links */
        .mobile-nav-link::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            height: 100%;
            width: 4px;
            background: linear-gradient(180deg, #fbbf24, #f59e0b);
            transform: scaleY(0);
            transition: transform 0.3s ease;
        }
        .mobile-nav-link:hover::before {
            transform: scaleY(1);
        }

        /* ==================== FOOTER ==================== */
        .footer-gradient {
            background: linear-gradient(135deg, #000000 0%, #1a1a1a 50%, #0a0a0a 100%);
            box-shadow: 0 -4px 6px -1px rgba(0, 0, 0, 0.3);
        }

        /* ==================== READING PROGRESS BAR ==================== */
        #reading-progress {
            position: fixed;
            top: 0;
            left: 0;
            width: 0%;
            height: 3px;
            background: linear-gradient(90deg, #14b8a6 0%, #0d9488 100%);
            z-index: 9999;
            transition: width 0.1s ease;
        }

        /* ==================== BLOG CONTAINER ==================== */
        .blog-wrapper {
            max-width: 100%;
            margin: 0;
            padding: 0;
        }

        .blog-layout {
            display: grid;
            grid-template-columns: 1fr;
            gap: 0;
            position: relative;
        }

        @media (min-width: 1200px) {
            .blog-layout {
                grid-template-columns: 1fr minmax(auto, 1200px) 300px 1fr;
                gap: 40px;
                padding: 0 40px;
            }
        }

        @media (min-width: 1400px) {
            .blog-layout {
                grid-template-columns: 1fr minmax(auto, 1400px) 320px 1fr;
                gap: 50px;
            }
        }

        /* Fixed Side Actions */
        .side-actions {
            position: fixed;
            left: 32px;
            top: 50%;
            transform: translateY(-50%);
            display: none;
            flex-direction: column;
            gap: 16px;
            z-index: 500;
        }

        @media (min-width: 1400px) {
            .side-actions {
                display: flex;
            }
        }

        .action-btn {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background: white;
            border: 2px solid #e2e8f0;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            color: #64748b;
        }

        .action-btn:hover {
            background: linear-gradient(135deg, #0d9488 0%, #14b8a6 100%);
            color: white;
            border-color: #14b8a6;
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(13, 148, 136, 0.3);
        }

        .action-btn.active {
            background: linear-gradient(135deg, #0d9488 0%, #14b8a6 100%);
            color: white;
            border-color: #14b8a6;
        }

        .action-btn svg {
            width: 22px;
            height: 22px;
        }

        /* Reading Progress Circle */
        .progress-ring {
            position: relative;
            width: 48px;
            height: 48px;
        }

        .progress-ring-circle {
            transform: rotate(-90deg);
            transform-origin: 50% 50%;
        }

        .progress-ring-background {
            stroke: #e2e8f0;
        }

        .progress-ring-progress {
            stroke: #14b8a6;
            stroke-linecap: round;
            transition: stroke-dashoffset 0.1s;
        }

        /* Content Container */
        .content-container {
            width: 100%;
            grid-column: 2;
            padding: 0;
        }

        @media (max-width: 1199px) {
            .content-container {
                grid-column: 1;
                max-width: 900px;
                margin: 0 auto;
                padding: 0 32px;
            }
        }

        /* ==================== BLOG HERO SECTION ==================== */
        .blog-hero {
            position: relative;
            width: 100%;
            min-height: 550px;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            margin-bottom: 60px;
        }

        .hero-background {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: 1;
        }

        .hero-background img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            opacity: 0.15;
        }

        .hero-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(15, 23, 42, 0.9) 0%, rgba(13, 148, 136, 0.7) 100%);
            z-index: 2;
        }

        .hero-content {
            position: relative;
            z-index: 3;
            max-width: 1100px;
            padding: 70px 40px;
            text-align: center;
            color: white;
        }

        .blog-category {
            display: inline-block;
            background: rgba(255, 255, 255, 0.2);
            color: #ffffff;
            padding: 10px 24px;
            border-radius: 50px;
            font-size: 13px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1.5px;
            margin-bottom: 28px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        .blog-category:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }

        .blog-title {
            font-size: 56px;
            font-weight: 900;
            line-height: 1.15;
            color: #ffffff;
            margin-bottom: 24px;
            letter-spacing: -0.03em;
            text-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
            animation: fadeInUp 0.8s ease;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .blog-subtitle {
            font-size: 20px;
            color: rgba(255, 255, 255, 0.9);
            line-height: 1.7;
            margin-bottom: 36px;
            font-weight: 400;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            animation: fadeInUp 0.8s ease 0.2s both;
        }

        .blog-meta {
            display: inline-flex;
            align-items: center;
            gap: 32px;
            padding: 20px 36px;
            background: rgba(255, 255, 255, 0.15);
            border-radius: 60px;
            backdrop-filter: blur(20px);
            border: 2px solid rgba(255, 255, 255, 0.2);
            animation: fadeInUp 0.8s ease 0.4s both;
        }

        .author-info-container {
            display: flex;
            align-items: center;
            gap: 14px;
        }

        .author-avatar {
            width: 52px;
            height: 52px;
            border-radius: 50%;
            background: linear-gradient(135deg, #14b8a6, #0d9488);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 700;
            font-size: 20px;
            box-shadow: 0 4px 16px rgba(20, 184, 166, 0.4);
            border: 3px solid rgba(255, 255, 255, 0.3);
        }

        .author-details {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
        }

        .author-name {
            font-size: 16px;
            font-weight: 700;
            color: white;
            margin-bottom: 4px;
        }

        .publish-date {
            font-size: 14px;
            color: rgba(255, 255, 255, 0.8);
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .publish-date::before {
            content: 'üìÖ';
            font-size: 12px;
        }

        .reading-time {
            font-size: 14px;
            color: rgba(255, 255, 255, 0.9);
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50px;
            font-weight: 600;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .scroll-indicator {
            position: absolute;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 4;
            animation: bounce 2s infinite;
        }

        .scroll-indicator svg {
            width: 32px;
            height: 32px;
            color: white;
            opacity: 0.8;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {
                transform: translateX(-50%) translateY(0);
            }
            40% {
                transform: translateX(-50%) translateY(-10px);
            }
            60% {
                transform: translateX(-50%) translateY(-5px);
            }
        }

        /* ==================== BLOG CONTENT ==================== */
        .blog-main {
            background: transparent;
            padding: 0;
            margin-bottom: 40px;
        }

        .content-section {
            background: white;
            padding: 50px 60px;
            margin-bottom: 24px;
            border-radius: 20px;
            box-shadow: 0 2px 16px rgba(0, 0, 0, 0.05);
            border: 1px solid #f1f5f9;
            transition: all 0.3s ease;
        }

        .content-section:hover {
            box-shadow: 0 4px 24px rgba(0, 0, 0, 0.08);
        }

        /* Featured Image in Content */
        .featured-image-content {
            margin: 0 0 48px 0;
            text-align: center;
            position: relative;
        }

        .featured-image-content img {
            width: 100%;
            height: auto;
            border-radius: 16px;
            box-shadow: 0 12px 48px rgba(0, 0, 0, 0.15);
            transition: all 0.4s ease;
            display: block;
        }

        .featured-image-content img:hover {
            transform: translateY(-6px);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.2);
        }

        /* Add decorative border around featured image */
        .featured-image-content::before {
            content: '';
            position: absolute;
            top: -12px;
            left: -12px;
            right: -12px;
            bottom: -12px;
            background: linear-gradient(135deg, #14b8a6 0%, #0d9488 100%);
            border-radius: 20px;
            z-index: -1;
            opacity: 0.1;
        }

        .blog-content {
            font-family: Georgia, 'Times New Roman', serif;
            font-size: 18px;
            line-height: 1.8;
            color: #1e293b;
        }

        .blog-content > *:first-child {
            margin-top: 0;
        }

        .blog-content p {
            margin: 24px 0;
            text-align: justify;
        }

        /* Drop Cap - Enhanced */
        .blog-content p:first-of-type::first-letter {
            font-size: 72px;
            font-weight: 700;
            float: left;
            line-height: 0.8;
            margin: 10px 16px 0 0;
            color: white;
            background: linear-gradient(135deg, #0d9488, #14b8a6);
            padding: 12px 18px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(13, 148, 136, 0.3);
        }

        /* Headings - Enhanced with Icons */
        .blog-content h2 {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            font-size: 34px;
            font-weight: 800;
            line-height: 1.3;
            margin: 48px 0 24px;
            color: #0f172a;
            letter-spacing: -0.02em;
            scroll-margin-top: 100px;
            padding-bottom: 14px;
            border-bottom: 3px solid #e2e8f0;
            position: relative;
        }

        .blog-content h2::before {
            content: '';
            position: absolute;
            bottom: -3px;
            left: 0;
            width: 80px;
            height: 3px;
            background: linear-gradient(90deg, #0d9488, #14b8a6);
            border-radius: 2px;
        }

        .blog-content h3 {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            font-size: 26px;
            font-weight: 700;
            line-height: 1.4;
            margin: 36px 0 20px;
            color: #0f172a;
            scroll-margin-top: 100px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .blog-content h3::before {
            content: '‚ñ∏';
            color: #14b8a6;
            font-size: 28px;
        }

        .blog-content h4 {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            font-size: 24px;
            font-weight: 600;
            line-height: 1.4;
            margin: 36px 0 20px;
            color: #334155;
        }

        /* Links - Enhanced */
        .blog-content a {
            color: #0d9488;
            text-decoration: none;
            background: linear-gradient(to right, #0d9488, #0d9488);
            background-size: 0% 2px;
            background-position: 0 100%;
            background-repeat: no-repeat;
            transition: all 0.3s ease;
            padding-bottom: 2px;
            font-weight: 600;
        }

        .blog-content a:hover {
            background-size: 100% 2px;
            color: #0f766e;
        }

        /* Blockquotes - Enhanced with Icon */
        .blog-content blockquote {
            border-left: 5px solid #14b8a6;
            padding: 24px 28px;
            margin: 32px 0;
            font-style: italic;
            color: #1e293b;
            background: linear-gradient(135deg, #f0fdfa 0%, #ffffff 100%);
            border-radius: 12px;
            box-shadow: 0 4px 16px rgba(13, 148, 136, 0.1);
            position: relative;
            font-size: 19px;
        }

        .blog-content blockquote::before {
            content: '"';
            position: absolute;
            top: 16px;
            left: 16px;
            font-size: 64px;
            color: #14b8a6;
            opacity: 0.2;
            font-family: Georgia, serif;
            line-height: 1;
        }

        /* Lists - Enhanced */
        .blog-content ul,
        .blog-content ol {
            margin: 24px 0;
            padding-left: 40px;
        }

        .blog-content li {
            margin: 12px 0;
            line-height: 1.8;
            padding-left: 8px;
        }

        .blog-content ul li {
            position: relative;
        }

        .blog-content ul li::marker {
            color: #14b8a6;
            font-size: 1.2em;
        }

        .blog-content ol li::marker {
            color: #14b8a6;
            font-weight: 700;
        }

        /* Images - Enhanced & Centered */
        .blog-content img {
            max-width: 100%;
            height: auto;
            margin: 40px auto;
            display: block;
            border-radius: 16px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12);
            transition: all 0.3s ease;
        }

        .blog-content img:hover {
            transform: translateY(-4px);
            box-shadow: 0 16px 48px rgba(0, 0, 0, 0.15);
        }

        /* Figure Element Support */
        .blog-content figure {
            margin: 48px 0;
            text-align: center;
        }

        .blog-content figure img {
            margin: 0 auto 16px;
        }

        .blog-content figcaption {
            font-size: 15px;
            color: #64748b;
            font-style: italic;
            margin-top: 12px;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }

        /* Image Container with Background */
        .blog-content .image-wrapper {
            background: linear-gradient(135deg, #f8fafc 0%, #ffffff 100%);
            padding: 24px;
            border-radius: 20px;
            margin: 48px 0;
            border: 1px solid #e2e8f0;
        }

        .blog-content .image-wrapper img {
            margin: 0 auto;
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
        }

        /* Wide Images */
        .blog-content img.wide {
            max-width: 110%;
            margin-left: -5%;
            margin-right: -5%;
        }

        /* Small Images */
        .blog-content img.small {
            max-width: 60%;
            margin-left: auto;
            margin-right: auto;
        }

        /* Image Grid */
        .blog-content .image-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 24px;
            margin: 48px 0;
        }

        .blog-content .image-grid img {
            margin: 0;
            width: 100%;
        }

        /* Code Blocks - Enhanced */
        .blog-content pre {
            background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
            border-radius: 16px;
            padding: 32px;
            margin: 40px 0;
            overflow-x: auto;
            position: relative;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .blog-content code {
            font-family: 'Courier New', Courier, monospace;
            font-size: 15px;
            line-height: 1.7;
        }

        .blog-content p code,
        .blog-content li code {
            background: linear-gradient(135deg, #fce7f3 0%, #fbcfe8 100%);
            color: #be185d;
            padding: 4px 10px;
            border-radius: 6px;
            font-size: 16px;
            font-weight: 600;
            box-shadow: 0 2px 4px rgba(190, 24, 93, 0.1);
        }

        .code-header {
            position: absolute;
            top: 16px;
            right: 16px;
            display: flex;
            gap: 10px;
        }

        .copy-code-btn {
            background: rgba(255, 255, 255, 0.15);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.3);
            padding: 8px 16px;
            border-radius: 8px;
            font-size: 13px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: -apple-system, BlinkMacSystemFont, sans-serif;
            font-weight: 600;
            backdrop-filter: blur(10px);
        }

        .copy-code-btn:hover {
            background: rgba(255, 255, 255, 0.25);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        /* Inline Highlights - Enhanced */
        .blog-content mark {
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            padding: 4px 10px;
            border-radius: 6px;
            font-weight: 600;
            box-shadow: 0 2px 4px rgba(245, 158, 11, 0.15);
        }

        /* Horizontal Rule - Enhanced */
        .blog-content hr {
            border: none;
            height: 2px;
            background: linear-gradient(90deg, transparent 0%, #e2e8f0 20%, #e2e8f0 80%, transparent 100%);
            margin: 64px 0;
            position: relative;
        }

        .blog-content hr::after {
            content: '‚óÜ';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            color: #14b8a6;
            padding: 0 20px;
            font-size: 16px;
        }

        /* Special Content Blocks */
        .info-box, .warning-box, .tip-box, .success-box {
            padding: 24px 28px;
            margin: 40px 0;
            border-radius: 12px;
            border-left: 5px solid;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08);
            position: relative;
            font-size: 18px;
        }

        .info-box {
            background: linear-gradient(135deg, #dbeafe 0%, #e0f2fe 100%);
            border-left-color: #3b82f6;
            color: #1e40af;
        }

        .info-box::before {
            content: '‚ÑπÔ∏è';
            position: absolute;
            top: 24px;
            right: 24px;
            font-size: 24px;
        }

        .warning-box {
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            border-left-color: #f59e0b;
            color: #92400e;
        }

        .warning-box::before {
            content: '‚ö†Ô∏è';
            position: absolute;
            top: 24px;
            right: 24px;
            font-size: 24px;
        }

        .tip-box {
            background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);
            border-left-color: #10b981;
            color: #065f46;
        }

        .tip-box::before {
            content: 'üí°';
            position: absolute;
            top: 24px;
            right: 24px;
            font-size: 24px;
        }

        .success-box {
            background: linear-gradient(135deg, #ccfbf1 0%, #99f6e4 100%);
            border-left-color: #14b8a6;
            color: #134e4a;
        }

        .success-box::before {
            content: '‚úÖ';
            position: absolute;
            top: 24px;
            right: 24px;
            font-size: 24px;
        }

        /* Table Styles */
        .blog-content table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
            margin: 40px 0;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08);
        }

        .blog-content thead {
            background: linear-gradient(135deg, #0d9488 0%, #14b8a6 100%);
            color: white;
        }

        .blog-content th {
            padding: 16px 20px;
            text-align: left;
            font-weight: 700;
            font-size: 16px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .blog-content td {
            padding: 16px 20px;
            border-bottom: 1px solid #e2e8f0;
            color: #334155;
        }

        .blog-content tbody tr {
            background: white;
            transition: all 0.2s ease;
        }

        .blog-content tbody tr:nth-child(even) {
            background: #f8fafc;
        }

        .blog-content tbody tr:hover {
            background: #f0fdfa;
            transform: scale(1.01);
        }

        /* ==================== SIDEBAR ==================== */
        .blog-sidebar {
            position: sticky;
            top: 100px;
            height: fit-content;
            grid-column: 3;
            padding: 0 20px 40px 0;
        }

        @media (max-width: 1199px) {
            .blog-sidebar {
                display: none;
            }
        }

        /* Table of Contents - Enhanced */
        .toc-card {
            background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
            border-radius: 16px;
            padding: 28px;
            margin-bottom: 28px;
            border: 2px solid #e2e8f0;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
        }

        .toc-card:hover {
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.08);
            border-color: #cbd5e1;
        }

        .toc-title {
            font-size: 14px;
            font-weight: 800;
            color: #0f172a;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .toc-title::before {
            content: 'üìë';
            font-size: 18px;
        }

        .toc-list {
            list-style: none;
        }

        .toc-item {
            margin-bottom: 10px;
        }

        .toc-link {
            display: block;
            color: #64748b;
            font-size: 14px;
            line-height: 1.6;
            padding: 10px 16px;
            border-left: 3px solid #e2e8f0;
            margin-left: 0;
            transition: all 0.3s ease;
            border-radius: 0 8px 8px 0;
            font-weight: 500;
        }

        .toc-link:hover {
            color: #0d9488;
            border-left-color: #14b8a6;
            background: #f0fdfa;
            transform: translateX(4px);
        }

        .toc-link.active {
            color: #0d9488;
            border-left-color: #14b8a6;
            background: #f0fdfa;
            font-weight: 700;
        }

        /* Author Bio Card - Enhanced */
        .author-card {
            background: linear-gradient(135deg, #f0fdfa 0%, #ccfbf1 100%);
            border-radius: 16px;
            padding: 28px;
            margin-bottom: 28px;
            border: 2px solid #99f6e4;
            box-shadow: 0 4px 16px rgba(13, 148, 136, 0.1);
            transition: all 0.3s ease;
        }

        .author-card:hover {
            box-shadow: 0 6px 20px rgba(13, 148, 136, 0.15);
            transform: translateY(-2px);
        }

        .author-card-avatar {
            width: 72px;
            height: 72px;
            border-radius: 50%;
            background: linear-gradient(135deg, #0d9488, #14b8a6);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 700;
            font-size: 28px;
            margin: 0 auto 20px;
            box-shadow: 0 6px 16px rgba(13, 148, 136, 0.3);
            border: 4px solid white;
        }

        .author-card-name {
            font-size: 19px;
            font-weight: 800;
            margin-bottom: 12px;
            color: #0f172a;
            text-align: center;
        }

        .author-card-bio {
            font-size: 14px;
            color: #334155;
            line-height: 1.7;
            text-align: center;
        }

        /* Related Posts - Enhanced */
        .related-card {
            background: white;
            border: 2px solid #e2e8f0;
            border-radius: 14px;
            padding: 20px;
            margin-bottom: 16px;
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .related-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
            background: linear-gradient(135deg, #0d9488, #14b8a6);
            transform: scaleY(0);
            transition: transform 0.3s ease;
        }

        .related-card:hover::before {
            transform: scaleY(1);
        }

        .related-card:hover {
            border-color: #14b8a6;
            transform: translateX(6px);
            box-shadow: 0 6px 16px rgba(13, 148, 136, 0.15);
            background: linear-gradient(135deg, #ffffff 0%, #f0fdfa 100%);
        }

        .related-card-title {
            font-size: 15px;
            font-weight: 700;
            margin-bottom: 10px;
            color: #0f172a;
            line-height: 1.5;
            transition: color 0.2s ease;
        }

        .related-card:hover .related-card-title {
            color: #0d9488;
        }

        .related-card-meta {
            font-size: 13px;
            color: #64748b;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .related-card-meta::before {
            content: 'üìÖ';
            font-size: 11px;
        }

        /* ==================== ENGAGEMENT BAR ==================== */
        .engagement-bar {
            position: fixed;
            bottom: 32px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(135deg, rgba(15, 23, 42, 0.95) 0%, rgba(30, 41, 59, 0.95) 100%);
            border: 2px solid rgba(255, 255, 255, 0.1);
            padding: 16px 28px;
            backdrop-filter: blur(20px);
            z-index: 100;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            border-radius: 60px;
            opacity: 0;
            pointer-events: none;
            transition: all 0.4s ease;
        }

        .engagement-bar.visible {
            opacity: 1;
            pointer-events: auto;
        }

        .engagement-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
        }

        .engagement-actions {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .engagement-btn {
            display: flex;
            align-items: center;
            gap: 8px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            cursor: pointer;
            color: #e2e8f0;
            font-size: 14px;
            transition: all 0.3s ease;
            padding: 10px 20px;
            border-radius: 50px;
            font-weight: 600;
            backdrop-filter: blur(10px);
        }

        .engagement-btn:hover {
            color: white;
            background: linear-gradient(135deg, #0d9488 0%, #14b8a6 100%);
            border-color: #14b8a6;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(20, 184, 166, 0.4);
        }

        .engagement-btn.active {
            color: white;
            background: linear-gradient(135deg, #0d9488 0%, #14b8a6 100%);
            border-color: #14b8a6;
            box-shadow: 0 4px 12px rgba(20, 184, 166, 0.4);
        }

        .engagement-btn svg {
            width: 18px;
            height: 18px;
        }

        .engagement-divider {
            width: 1px;
            height: 28px;
            background: rgba(255, 255, 255, 0.2);
            margin: 0 4px;
        }


        /* ==================== TAGS & META SECTION ==================== */
        .post-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            margin: 48px 0;
            padding: 32px;
            background: linear-gradient(135deg, #f8fafc 0%, #ffffff 100%);
            border-radius: 16px;
            border: 2px solid #e2e8f0;
        }

        .tag-label {
            font-size: 14px;
            font-weight: 700;
            color: #64748b;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-right: 8px;
        }

        .tag {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 8px 16px;
            background: white;
            border: 2px solid #e2e8f0;
            border-radius: 50px;
            color: #334155;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .tag:hover {
            background: linear-gradient(135deg, #0d9488 0%, #14b8a6 100%);
            color: white;
            border-color: #14b8a6;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(13, 148, 136, 0.3);
        }

        .tag::before {
            content: '#';
            color: #14b8a6;
        }

        .tag:hover::before {
            color: white;
        }

        /* Newsletter Signup */
        .newsletter-section {
            background: linear-gradient(135deg, #0d9488 0%, #14b8a6 100%);
            padding: 40px 50px;
            text-align: center;
            color: white;
        }

        .newsletter-icon {
            font-size: 48px;
            margin-bottom: 20px;
        }

        .newsletter-title {
            font-size: 28px;
            font-weight: 800;
            margin-bottom: 12px;
        }

        .newsletter-subtitle {
            font-size: 16px;
            margin-bottom: 28px;
            opacity: 0.95;
        }

        .newsletter-form {
            display: flex;
            gap: 12px;
            max-width: 500px;
            margin: 0 auto;
            flex-wrap: wrap;
            justify-content: center;
        }

        .newsletter-input {
            flex: 1;
            min-width: 250px;
            padding: 14px 20px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 50px;
            background: rgba(255, 255, 255, 0.15);
            color: white;
            font-size: 15px;
            font-weight: 500;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        .newsletter-input::placeholder {
            color: rgba(255, 255, 255, 0.7);
        }

        .newsletter-input:focus {
            outline: none;
            background: rgba(255, 255, 255, 0.25);
            border-color: white;
        }

        .newsletter-button {
            padding: 14px 32px;
            background: white;
            color: #0d9488;
            border: none;
            border-radius: 50px;
            font-size: 15px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        .newsletter-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.2);
            background: #f0fdfa;
        }

        /* Social Share Section */
        .social-share {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 28px 40px;
        }

        .share-label {
            font-size: 16px;
            font-weight: 700;
            color: #0f172a;
            margin-right: 8px;
        }

        .social-btn {
            width: 44px;
            height: 44px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            cursor: pointer;
            border: 2px solid;
        }

        .social-btn.twitter {
            background: #e0f2fe;
            color: #0284c7;
            border-color: #7dd3fc;
        }

        .social-btn.twitter:hover {
            background: #0284c7;
            color: white;
            transform: translateY(-4px);
            box-shadow: 0 6px 16px rgba(2, 132, 199, 0.3);
        }

        .social-btn.facebook {
            background: #dbeafe;
            color: #2563eb;
            border-color: #93c5fd;
        }

        .social-btn.facebook:hover {
            background: #2563eb;
            color: white;
            transform: translateY(-4px);
            box-shadow: 0 6px 16px rgba(37, 99, 235, 0.3);
        }

        .social-btn.linkedin {
            background: #dbeafe;
            color: #0369a1;
            border-color: #7dd3fc;
        }

        .social-btn.linkedin:hover {
            background: #0369a1;
            color: white;
            transform: translateY(-4px);
            box-shadow: 0 6px 16px rgba(3, 105, 161, 0.3);
        }

        .social-btn.copy {
            background: #f0fdf4;
            color: #16a34a;
            border-color: #86efac;
        }

        .social-btn.copy:hover {
            background: #16a34a;
            color: white;
            transform: translateY(-4px);
            box-shadow: 0 6px 16px rgba(22, 163, 74, 0.3);
        }

        /* ==================== BACK TO TOP ==================== */
        .back-to-top {
            position: fixed;
            bottom: 100px;
            right: 32px;
            width: 52px;
            height: 52px;
            background: linear-gradient(135deg, #0d9488 0%, #14b8a6 100%);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            opacity: 0;
            pointer-events: none;
            transition: all 0.3s ease;
            z-index: 1000;
            box-shadow: 0 6px 20px rgba(13, 148, 136, 0.4);
            border: 2px solid rgba(255, 255, 255, 0.5);
        }

        .back-to-top.visible {
            opacity: 1;
            pointer-events: auto;
        }

        .back-to-top:hover {
            transform: translateY(-6px);
            box-shadow: 0 10px 28px rgba(13, 148, 136, 0.5);
        }

        /* ==================== RESPONSIVE ==================== */
        @media (max-width: 1199px) {
            .blog-layout {
                padding: 0 32px;
            }

            .content-section {
                padding: 40px 36px;
            }
        }

        @media (max-width: 768px) {
            .blog-hero {
                min-height: 500px;
            }

            .hero-content {
                padding: 60px 24px;
            }

            .blog-title {
                font-size: 40px;
            }

            .blog-subtitle {
                font-size: 18px;
            }

            .blog-meta {
                flex-direction: column;
                gap: 20px;
                padding: 20px 24px;
            }

            .reading-time {
                margin-left: 0;
            }

            .content-section {
                padding: 40px 24px;
                border-radius: 16px;
            }

            .blog-content {
                font-size: 18px;
            }

            .blog-content h2 {
                font-size: 28px;
                margin: 48px 0 20px;
            }

            .blog-content h3 {
                font-size: 24px;
                margin: 36px 0 16px;
            }

            .blog-content h4 {
                font-size: 20px;
            }

            .blog-content p:first-of-type::first-letter {
                font-size: 56px;
                padding: 10px 14px;
            }

            .engagement-bar {
                bottom: 20px;
                left: 20px;
                right: 20px;
                transform: none;
                padding: 12px 16px;
            }

            .engagement-btn {
                padding: 8px 14px;
                font-size: 13px;
            }

            .engagement-btn svg {
                width: 16px;
                height: 16px;
            }

            .post-tags, .social-share, .newsletter-section {
                margin-left: -24px;
                margin-right: -24px;
                border-radius: 0;
            }

            .blog-content img.wide {
                max-width: 100%;
                margin-left: 0;
                margin-right: 0;
            }

            .blog-content img.small {
                max-width: 100%;
            }

            .blog-content .image-grid {
                grid-template-columns: 1fr;
                gap: 16px;
            }

            .blog-content .image-wrapper {
                padding: 16px;
                margin: 32px 0;
            }

            .featured-image-content {
                margin: 0 0 32px 0;
            }

            .featured-image-content::before {
                top: -8px;
                left: -8px;
                right: -8px;
                bottom: -8px;
            }
        }

        @media (min-width: 1024px) {
            #mobile-menu {
                display: none !important;
            }
        }
    </style>
</head>
<body class="font-quattro bg-white text-black overflow-x-hidden">
    <!-- Reading Progress Bar -->
    <div id="reading-progress"></div>

    <!-- Navbar -->
    <nav class="bg-black text-white sticky top-0 z-50 shadow-[0_4px_20px_rgba(0,0,0,0.4)] border-b border-white/5">
        <div class="max-w-[1400px] mx-auto px-4 sm:px-6 lg:px-8 xl:px-[78px]">
            <div class="flex items-center justify-between h-14 sm:h-16 md:h-16 lg:h-20">

                <!-- LEFT: Logo and Foundation Name -->
                <div class="flex items-center">
                    <a href="{% url 'home' %}" class="flex items-center transition-all duration-300 hover:bg-teal-500/10 px-3 py-2 rounded-lg cursor-pointer group">
                        <img src="{% static 'assets/logo.png' %}" alt="AJIF Logo" class="h-8 w-8 sm:h-9 sm:w-9 md:h-10 md:w-10 transition-transform duration-400 group-hover:rotate-[360deg] flex-shrink-0" loading="lazy">
                        <span class="font-archivo text-xs sm:text-xs md:text-sm lg:text-sm xl:text-base ml-3 text-white font-bold tracking-[0.3px] whitespace-nowrap transition-colors duration-300 group-hover:text-teal-500">Anila & Jawad Iqbal Foundation</span>
                    </a>
                </div>

                <!-- CENTER: Navigation Links -->
                <nav class="hidden lg:flex items-center gap-6 md:gap-8 lg:gap-10 xl:gap-12 absolute left-1/2 transform -translate-x-1/2">
                    <a href="{% url 'about' %}" class="nav-link relative text-xs md:text-sm lg:text-base xl:text-lg font-semibold tracking-wide text-white/90 py-2 transition-colors duration-300 hover:text-teal-500">About Us</a>
                    <a href="{% url 'our_mission' %}" class="nav-link relative text-xs md:text-sm lg:text-base xl:text-lg font-semibold tracking-wide text-white/90 py-2 transition-colors duration-300 hover:text-teal-500">Our Mission</a>
                    <a href="{% url 'our_partners' %}" class="nav-link relative text-xs md:text-sm lg:text-base xl:text-lg font-semibold tracking-wide text-white/90 py-2 transition-colors duration-300 hover:text-teal-500">Our Partners</a>
                    <a href="{% url 'testimonials' %}" class="nav-link relative text-xs md:text-sm lg:text-base xl:text-lg font-semibold tracking-wide text-white/90 py-2 transition-colors duration-300 hover:text-teal-500">Testimonials</a>
                    <a href="{% url 'home' %}#blog" class="nav-link relative text-xs md:text-sm lg:text-base xl:text-lg font-semibold tracking-wide text-white/90 py-2 transition-colors duration-300 hover:text-teal-500">Blog/News</a>
                </nav>

                <!-- Mobile/Tablet Menu Button -->
                <div class="lg:hidden flex items-center">
                    <button id="menu-btn" class="mobile-menu-btn bg-white/10 border-2 border-white/30 rounded-xl p-2 transition-all duration-300 hover:bg-white/20 hover:border-white/50 hover:scale-110 hover:rotate-90 hover:shadow-[0_4px_12px_rgba(255,255,255,0.2)] backdrop-blur-[10px] focus:outline-none" aria-label="Toggle menu">
                    <svg
                        id="menu-icon"
                        class="w-6 h-6 sm:w-6 sm:h-6 md:w-7 md:h-7"
                        fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                    >
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M4 6h16M4 12h16m-7 6h7"
                        ></path>
                    </svg>
                    <svg
                        id="close-icon"
                        class="w-6 h-6 sm:w-6 sm:h-6 md:w-7 md:h-7 hidden"
                        fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                    >
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M6 18L18 6M6 6l12 12"
                        ></path>
                    </svg>
                </button>
            </div>
        </div>
        <!-- Mobile/Tablet Menu -->
        <div id="mobile-menu" class="lg:hidden px-4 sm:px-6 space-y-4 sm:space-y-5 font-archivo">
            <a href="{% url 'about' %}" class="mobile-nav-link block py-3 sm:py-3.5 px-4 sm:px-5 rounded-xl text-white font-semibold text-sm sm:text-base md:text-lg tracking-wide transition-all duration-300 hover:translate-x-3 hover:bg-gradient-to-r hover:from-amber-400/20 hover:to-teal-500/10 hover:pl-6 relative overflow-hidden">About Us</a>
            <a href="{% url 'our_mission' %}" class="mobile-nav-link block py-3 sm:py-3.5 px-4 sm:px-5 rounded-xl text-white font-semibold text-sm sm:text-base md:text-lg tracking-wide transition-all duration-300 hover:translate-x-3 hover:bg-gradient-to-r hover:from-amber-400/20 hover:to-teal-500/10 hover:pl-6 relative overflow-hidden">Our Mission</a>
            <a href="{% url 'our_partners' %}" class="mobile-nav-link block py-3 sm:py-3.5 px-4 sm:px-5 rounded-xl text-white font-semibold text-sm sm:text-base md:text-lg tracking-wide transition-all duration-300 hover:translate-x-3 hover:bg-gradient-to-r hover:from-amber-400/20 hover:to-teal-500/10 hover:pl-6 relative overflow-hidden">Our Partners</a>
            <a href="{% url 'testimonials' %}" class="mobile-nav-link block py-3 sm:py-3.5 px-4 sm:px-5 rounded-xl text-white font-semibold text-sm sm:text-base md:text-lg tracking-wide transition-all duration-300 hover:translate-x-3 hover:bg-gradient-to-r hover:from-amber-400/20 hover:to-teal-500/10 hover:pl-6 relative overflow-hidden">Testimonials</a>
            <a href="{% url 'home' %}#blog" class="mobile-nav-link block py-3 sm:py-3.5 px-4 sm:px-5 rounded-xl text-white font-semibold text-sm sm:text-base md:text-lg tracking-wide transition-all duration-300 hover:translate-x-3 hover:bg-gradient-to-r hover:from-amber-400/20 hover:to-teal-500/10 hover:pl-6 relative overflow-hidden">Blog/News</a>
        </div>
    </div>
    </nav>

    {% if post %}
    <!-- Fixed Side Actions (Desktop Only) -->
    <div class="side-actions">
        <!-- Reading Progress Circle -->
        <div class="progress-ring">
            <svg width="48" height="48">
                <circle class="progress-ring-circle progress-ring-background" stroke-width="3" fill="transparent" r="21" cx="24" cy="24"/>
                <circle class="progress-ring-circle progress-ring-progress" stroke-width="3" fill="transparent" r="21" cx="24" cy="24" stroke-dasharray="131.95" stroke-dashoffset="131.95" id="progress-circle"/>
            </svg>
            <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 11px; font-weight: 700; color: #14b8a6;" id="progress-percent">0%</div>
        </div>

        <button class="action-btn" id="like-action" onclick="clapArticle()" title="Like this article">
            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path>
            </svg>
        </button>

        <button class="action-btn" id="bookmark-action" onclick="toggleBookmark()" title="Bookmark">
            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"></path>
            </svg>
        </button>

        <button class="action-btn" onclick="shareArticle()" title="Share">
            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"></path>
            </svg>
        </button>
    </div>

    <!-- Blog Container -->
    <div class="blog-wrapper">
        <!-- Full-Width Hero Section -->
        <div class="blog-hero">
            <!-- Background Image -->
            {% if post.featured_image or post.image %}
            <div class="hero-background">
                {% if post.featured_image %}
                <img src="{{ post.featured_image.url }}" alt="{{ post.title }}">
                {% elif post.image %}
                <img src="{% static post.image %}" alt="{{ post.title }}">
                {% endif %}
            </div>
            {% endif %}

            <!-- Gradient Overlay -->
            <div class="hero-overlay"></div>

            <!-- Hero Content -->
            <div class="hero-content">
                <span class="blog-category">{{ post.category|upper|default:"BLOG" }}</span>
                <h1 class="blog-title">{{ post.title }}</h1>

                {% if post.excerpt %}
                <p class="blog-subtitle">{{ post.excerpt }}</p>
                {% endif %}

                <!-- Author Meta -->
                <div class="blog-meta">
                    <div class="author-info-container">
                        <div class="author-avatar">
                            {{ post.author.0|default:"AJ"|upper }}
                        </div>
                        <div class="author-details">
                            <div class="author-name">{{ post.author|default:"AJIF Team" }}</div>
                            <div class="publish-date">{{ post.date|default:post.created_at }}</div>
                        </div>
                    </div>

                    <div class="reading-time">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" style="width: 16px; height: 16px;">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                        <span id="reading-time">5 min read</span>
                    </div>
                </div>
            </div>

            <!-- Scroll Indicator -->
            <div class="scroll-indicator">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path>
                </svg>
            </div>
        </div>

        <!-- Blog Layout -->
        <div class="blog-layout">
            <div></div> <!-- Spacer for grid -->
            <!-- Main Content -->
            <div class="content-container">
                <article class="blog-main">
                    <!-- Main Article Content -->
                    <div class="content-section">
                        <!-- Featured Image in Content -->
                        {% if post.featured_image or post.image %}
                        <div class="featured-image-content">
                            {% if post.featured_image %}
                            <img src="{{ post.featured_image.url }}" alt="{{ post.title }}">
                            {% elif post.image %}
                            <img src="{% static post.image %}" alt="{{ post.title }}">
                            {% endif %}
                        </div>
                        {% endif %}

                        <div class="blog-content" id="blog-content">
                            {{ post.content|safe|linebreaks }}
                        </div>
                    </div>

                    <!-- Tags Section -->
                    <div class="content-section post-tags">
                    <span class="tag-label">Topics:</span>
                    <span class="tag">{{ post.category|default:"Foundation" }}</span>
                    <span class="tag">Community</span>
                    <span class="tag">Impact</span>
                    <span class="tag">Pakistan</span>
                </div>

                    <!-- Social Share Section -->
                    <div class="content-section social-share">
                        <span class="share-label">Share this article:</span>
                        <button class="social-btn twitter" onclick="shareOnTwitter()" title="Share on Twitter">
                            <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"/>
                            </svg>
                        </button>
                        <button class="social-btn facebook" onclick="shareOnFacebook()" title="Share on Facebook">
                            <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
                            </svg>
                        </button>
                        <button class="social-btn linkedin" onclick="shareOnLinkedIn()" title="Share on LinkedIn">
                            <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
                            </svg>
                        </button>
                        <button class="social-btn copy" onclick="copyLink()" title="Copy Link">
                            <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/>
                            </svg>
                        </button>
                    </div>

                    <!-- Newsletter Signup -->
                    <div class="content-section newsletter-section">
                        <div class="newsletter-icon">üìß</div>
                        <h3 class="newsletter-title">Stay Updated with Our Latest News</h3>
                        <p class="newsletter-subtitle">Join our newsletter to receive updates on our foundation's work and impact stories</p>
                        <form class="newsletter-form" onsubmit="return false;">
                            <input type="email" class="newsletter-input" placeholder="Enter your email address" required>
                            <button type="submit" class="newsletter-button">Subscribe</button>
                        </form>
                    </div>
                </article>
            </div>

            <!-- Sidebar (Desktop Only) -->
            <aside class="blog-sidebar">
                <!-- Table of Contents -->
                <div class="toc-card">
                    <h3 class="toc-title">In This Article</h3>
                    <ul class="toc-list" id="toc-list">
                        <!-- Generated dynamically -->
                    </ul>
                </div>

                <!-- Author Bio -->
                <div class="author-card">
                    <div class="author-card-avatar">
                        {{ post.author.0|default:"AJ"|upper }}
                    </div>
                    <h4 class="author-card-name">{{ post.author|default:"AJIF Team" }}</h4>
                    <p class="author-card-bio">Dedicated to empowering vulnerable communities across Pakistan through health, education, legal aid, and opportunity-building initiatives.</p>
                </div>

                <!-- Related Posts -->
                {% if related_posts %}
                <div class="toc-card">
                    <h3 class="toc-title">Related Articles</h3>
                    {% for related in related_posts|slice:":3" %}
                    <div class="related-card" onclick="window.location.href='{% url 'blogpost_detail' related.slug %}'">
                        <h4 class="related-card-title">{{ related.title|truncatewords:10 }}</h4>
                        <div class="related-card-meta">{{ related.date|default:related.created_at }}</div>
                    </div>
                    {% endfor %}
                </div>
                {% endif %}
            </aside>
        </div>
    </div>

    {% else %}
    <!-- No Post Found -->
    <div style="min-height: 60vh; display: flex; align-items: center; justify-content: center; padding: 40px 24px;">
        <div style="text-align: center;">
            <h1 style="font-size: 32px; font-weight: 700; margin-bottom: 16px; color: #1a1a1a;">Article Not Found</h1>
            <p style="color: #6b7280; margin-bottom: 24px;">The article you're looking for doesn't exist.</p>
            <a href="{% url 'blogs' %}" style="display: inline-block; background: #0d9488; color: white; padding: 12px 24px; border-radius: 6px; text-decoration: none; font-weight: 600;">
                Browse All Articles
            </a>
        </div>
    </div>
    {% endif %}

    <!-- Back to Top Button -->
    <div class="back-to-top" onclick="scrollToTop()">
        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" style="width: 24px; height: 24px;">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18"></path>
        </svg>
    </div>

    <script>
        // ==================== MOBILE MENU ====================
        const menuBtn = document.getElementById('menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');
        const menuIcon = document.getElementById('menu-icon');
        const closeIcon = document.getElementById('close-icon');

        if (menuBtn) {
            menuBtn.addEventListener('click', () => {
                mobileMenu.classList.toggle('active');
                menuIcon.classList.toggle('hidden');
                closeIcon.classList.toggle('hidden');
            });
        }

        // ==================== READING PROGRESS ====================
        const progressCircle = document.getElementById('progress-circle');
        const progressPercent = document.getElementById('progress-percent');
        const radius = 21;
        const circumference = 2 * Math.PI * radius;

        if (progressCircle) {
            progressCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            progressCircle.style.strokeDashoffset = circumference;
        }

        function setProgress(percent) {
            if (!progressCircle || !progressPercent) return;
            const offset = circumference - (percent / 100) * circumference;
            progressCircle.style.strokeDashoffset = offset;
            progressPercent.textContent = Math.round(percent) + '%';
        }

        window.addEventListener('scroll', () => {
            const windowHeight = window.innerHeight;
            const documentHeight = document.documentElement.scrollHeight;
            const scrollTop = window.pageYOffset;
            const scrollPercent = (scrollTop / (documentHeight - windowHeight)) * 100;

            // Update progress bar
            document.getElementById('reading-progress').style.width = scrollPercent + '%';

            // Update progress circle
            setProgress(scrollPercent);

            // Back to top button
            const backToTop = document.querySelector('.back-to-top');
            if (backToTop) {
                if (scrollTop > 300) {
                    backToTop.classList.add('visible');
                } else {
                    backToTop.classList.remove('visible');
                }
            }
        });

        function scrollToTop() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // ==================== READING TIME ====================
        const blogContent = document.querySelector('.blog-content');
        if (blogContent) {
            const text = blogContent.innerText;
            const wordCount = text.trim().split(/\s+/).length;
            const readingTime = Math.ceil(wordCount / 200);
            const readingTimeEl = document.getElementById('reading-time');
            if (readingTimeEl) {
                readingTimeEl.textContent = `${readingTime} min read`;
            }
        }

        // ==================== TABLE OF CONTENTS ====================
        function generateTableOfContents() {
            const content = document.getElementById('blog-content');
            const tocList = document.getElementById('toc-list');

            if (!content || !tocList) return;

            const headings = content.querySelectorAll('h2, h3');

            if (headings.length === 0) {
                tocList.innerHTML = '<li style="color: #9ca3af; font-size: 13px;">No sections found</li>';
                return;
            }

            headings.forEach((heading, index) => {
                const id = `section-${index}`;
                heading.id = id;

                const li = document.createElement('li');
                li.className = 'toc-item';

                const a = document.createElement('a');
                a.href = `#${id}`;
                a.className = 'toc-link';
                a.textContent = heading.textContent;

                a.addEventListener('click', (e) => {
                    e.preventDefault();
                    heading.scrollIntoView({ behavior: 'smooth', block: 'start' });
                });

                li.appendChild(a);
                tocList.appendChild(li);
            });

            // Highlight active section
            window.addEventListener('scroll', () => {
                let current = '';
                headings.forEach(heading => {
                    const sectionTop = heading.offsetTop;
                    if (window.pageYOffset >= sectionTop - 150) {
                        current = heading.getAttribute('id');
                    }
                });

                document.querySelectorAll('.toc-link').forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('href') === `#${current}`) {
                        link.classList.add('active');
                    }
                });
            });
        }

        // ==================== CODE HIGHLIGHTING ====================
        function setupCodeHighlighting() {
            document.querySelectorAll('pre code').forEach((block) => {
                hljs.highlightElement(block);

                // Add copy button
                const pre = block.parentElement;
                const header = document.createElement('div');
                header.className = 'code-header';

                const copyBtn = document.createElement('button');
                copyBtn.className = 'copy-code-btn';
                copyBtn.textContent = 'Copy';
                copyBtn.onclick = () => {
                    navigator.clipboard.writeText(block.textContent);
                    copyBtn.textContent = 'Copied!';
                    setTimeout(() => copyBtn.textContent = 'Copy', 2000);
                };

                header.appendChild(copyBtn);
                pre.insertBefore(header, block);
            });
        }

        // ==================== ENGAGEMENT ====================
        let clapCount = 0;
        let isBookmarked = false;

        function clapArticle() {
            clapCount++;
            const clapBtn = document.getElementById('clap-btn');
            const likeAction = document.getElementById('like-action');

            if (clapBtn) {
                document.getElementById('clap-count').textContent = clapCount;
                clapBtn.classList.add('active');
            }

            if (likeAction) {
                likeAction.classList.add('active');
                const svg = likeAction.querySelector('svg');
                if (svg) svg.setAttribute('fill', 'currentColor');
            }
        }

        function toggleBookmark() {
            isBookmarked = !isBookmarked;
            const btn = document.getElementById('bookmark-btn');
            const bookmarkAction = document.getElementById('bookmark-action');

            if (btn) {
                const svg = btn.querySelector('svg');
                if (isBookmarked) {
                    svg.setAttribute('fill', 'currentColor');
                    btn.classList.add('active');
                } else {
                    svg.setAttribute('fill', 'none');
                    btn.classList.remove('active');
                }
            }

            if (bookmarkAction) {
                const svg = bookmarkAction.querySelector('svg');
                if (isBookmarked) {
                    svg.setAttribute('fill', 'currentColor');
                    bookmarkAction.classList.add('active');
                } else {
                    svg.setAttribute('fill', 'none');
                    bookmarkAction.classList.remove('active');
                }
            }
        }

        function shareArticle() {
            if (navigator.share) {
                navigator.share({
                    title: document.title,
                    url: window.location.href
                });
            } else {
                navigator.clipboard.writeText(window.location.href);
                alert('Link copied to clipboard!');
            }
        }

        // ==================== SOCIAL SHARE FUNCTIONS ====================
        function shareOnTwitter() {
            const url = encodeURIComponent(window.location.href);
            const text = encodeURIComponent(document.title);
            window.open(`https://twitter.com/intent/tweet?url=${url}&text=${text}`, '_blank', 'width=600,height=400');
        }

        function shareOnFacebook() {
            const url = encodeURIComponent(window.location.href);
            window.open(`https://www.facebook.com/sharer/sharer.php?u=${url}`, '_blank', 'width=600,height=400');
        }

        function shareOnLinkedIn() {
            const url = encodeURIComponent(window.location.href);
            window.open(`https://www.linkedin.com/sharing/share-offsite/?url=${url}`, '_blank', 'width=600,height=400');
        }

        function copyLink() {
            navigator.clipboard.writeText(window.location.href);
            const copyBtn = event.target.closest('.social-btn');
            const originalHTML = copyBtn.innerHTML;
            copyBtn.innerHTML = '<svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>';
            setTimeout(() => {
                copyBtn.innerHTML = originalHTML;
            }, 2000);
        }

        // ==================== INITIALIZE ====================
        document.addEventListener('DOMContentLoaded', () => {
            generateTableOfContents();
            setupCodeHighlighting();
        });
    </script>
</body>
</html>
